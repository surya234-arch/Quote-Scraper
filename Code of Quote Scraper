# Project 1 -- Quotes Scraper with their authors

from selenium import webdriver
from selenium.webdriver.common.by import By
from bs4 import BeautifulSoup
import requests
import time 
import csv

driver =webdriver.Chrome()
# look for first 5 pages
for page in range(1,6):
    url = f"https://quotes.toscrape.com/page/{page}/"
    driver.get(url)
    print(f"Scraping page {page}...")
time.sleep(3)
# Step 1
# page source lena 
html = driver.page_source

# csv file open
with open("quotes.csv","w",encoding="utf-8") as file:
    writer = csv.writer(file)
    writer.writerow(["Quote","Author"])

# bs4 se parse karna ')
soup = BeautifulSoup(html,"html.parser")

# quotes nikalna
quotes = soup.find_all("span",class_="text")
authors = soup.find_all("small",class_="author")
# print krna Clean and readable format me
for i in range(len(quotes)):
    writer.writerow([quotes[i].text,authors[i].text])
    print("Quote:",quotes[i].text)
    print("Author:",authors[i].text)
    print("--"*50)
driver.quit()
